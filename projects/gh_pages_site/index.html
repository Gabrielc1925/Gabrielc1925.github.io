<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="Dhh7xCrItumrAMTd8xAa0JhFSY2zdyCHGOusJyKuapY"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> CI/CD Project | Gabriel J. Chavez </title> <meta name="author" content="Gabriel J. Chavez"> <meta name="description" content="Automate Provisioning and Deployment of Resources"> <meta name="keywords" content="DevOps, CI/CD, Terraform, Kubernetes, AWS, Cloud, Automation"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link defer href="/assets/css/bootstrap-toc.min.css?6f5af0bb9aab25d79b2448143cbeaa88" rel="stylesheet"> <link rel="shortcut icon" href="/assets/img/favicon.ico?85d53cdc642525c2ea19006b5b11cfd1"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://gabrielc1925.github.io/projects/gh_pages_site/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Gabriel J. Chavez </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/projects/">projects</a> <div class="dropdown-divider"></div> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="row"> <div class="col-sm-3"> <nav id="toc-sidebar" class="sticky-top"></nav> </div> <div class="col-sm-9"> <div class="post"> <header class="post-header"> <h1 class="post-title">CI/CD Project</h1> <p class="post-description">Automate Provisioning and Deployment of Resources</p> </header> <article> <h2 id="project-overview">Project Overview</h2> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/ghpages-project-diagram-480.webp 480w,/assets/img/ghpages-project-diagram-800.webp 800w,/assets/img/ghpages-project-diagram-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/ghpages-project-diagram.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="GH-Pages Project Diagram" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Diagram of the various steps of this project. </div> <p>This project began as a way to build an online resume and portfolio, so that I could organize information about myself in a manner that is visually pleasing and easy to navigate.</p> <p>This was a learning experience in and of itself, as I had to learn how to format lists in Javascript and YAML, how to read and navigate Liquid, CSS, and HTML files, how to write in Markdown, and how to read and modify GitHub Actions files.</p> <p>As time went on, I needed source files to use for practice with Ansible and Terraform. This already created page provided exactly what I needed, which is why it is used throughout the projects.</p> <p>This page will just be a diagram of the project with a brief explanation of each step. You can click on the link for each page to be taken to a more detailed walkthrough of the code for each step.</p> <hr> <h2 id="deploment-to-github-pages-with-jekyll">Deploment to Github Pages with Jekyll</h2> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/github-pages-project-480.webp 480w,/assets/img/github-pages-project-800.webp 800w,/assets/img/github-pages-project-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/github-pages-project.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Github pages with jekyll" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Jekyll did all the work. </div> <p>I used a prebuilt template called <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> for the page. It gave me a beautiful and well-thought out design with support for code, images, and many other features that I might use in the future.</p> <p>I cloned the template to <a href="https://github.com/Gabrielc1925/Gabrielc1925.github.io" rel="external nofollow noopener" target="_blank">my Github repo</a> and began to customize the files that were provided.</p> <p>I learned Markdown for this, and had to re-learn how to write in YAML to fill out some of the backup lists. I also had to learn basic javascript notation in order to fill out the tables to populate my CV/Resume page.</p> <p>I then learned how to read and modify GitHub Actions workflow files and the output associated with them running. I removed many of the template workflows as they were not needed for my development environment, and I modified the others as needed. I did mess around with writing and adding GitHub Actions workflows, but there was nothing that was pressing enough that I kept it long term - I preferred to work on the other parts of this project for now.</p> <hr> <h2 id="ami-creation-with-packer-using-ansible">AMI Creation with Packer using Ansible</h2> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/packer-ansible-project-480.webp 480w,/assets/img/packer-ansible-project-800.webp 800w,/assets/img/packer-ansible-project-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/packer-ansible-project.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Packer and Ansible diagram" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Using Ansible to provision an AMI for Packer to create and store. </div> <p><a href="https://gabrielc1925.github.io/projects/packer_aws_backup/" rel="external nofollow noopener" target="_blank">Using Packer to create an Amazon Machine Image</a> was my next goal to work towards. This would mean that I have a prebuilt copy of my website ready to deploy in minutes in case of the site being down or some other disaster.<br> I could then use this further to practice with automated provisioning via Terraform, automated disaster recovery, or containerization with Docker and moving to Kubernetes, ECS or EKS.</p> <p>I had used Ansible previously about a year ago, but needed a refresher on how to write playbooks. I ended up learning much more than I initially expected I needed to learn, as I was using Ansible locally previously rather than interacting with a cloud provider through third-party modules.</p> <p>One major problem for me was that I misunderstood how Ansible interacted with file creation and naming. I was copying parts of a git repo to the project, and then moving certain files from the local repo to where they needed to live long-term. I was referencing files that did not exist, so they were not getting copied to where they should belong - and then the site was not behaving as expected. I eventually figured out how to use Packer’s debug mode to keep the created AMI open so that I could SSH into it andfigure out where the files were. This allowed me to correct the name I was referencing, and get everything working properly.</p> <hr> <h2 id="provisioning-resources-with-terraform">Provisioning Resources with Terraform</h2> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/terraform-deploy-project-480.webp 480w,/assets/img/terraform-deploy-project-800.webp 800w,/assets/img/terraform-deploy-project-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/terraform-deploy-project.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Terraform deployment" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Using Terraform to create and manage resources in AWS. </div> <p>I decided that my next goal would be to <a href="https://gabrielc1925.github.io/projects/terraform_aws/" rel="external nofollow noopener" target="_blank">practice using Terraform to provision resources in AWS</a>, including everything needed to run the site. I used the AMI to create an EC2 Instance, and then provisioned all the parts of a VPC that were needed to allow people to access the site from a public IP address.</p> <p>This brought a number of hurdles that I had to learn from and overcome. As my understanding of the documentation progressed, I re-wrote the code several times to ensure that my formatting was correct and the created product performed as expected.</p> <p>My biggest problem came from understanding how to write security group rules. I could not figure out how to format the listing for which ports I wanted to open.<br> I made a security group on AWS and just redirected my VPS to utilize the prebuilt security group instead, so that I could go forward with troubleshooting the other parts of the deployed resources. Eventually, I realized that the cidr block argument was looking for a string within double quotation marks (e.g.”{string}”), and I was formatting the cidr block incorrectly for ipv4, using ipv6 cider block naming convention. I was able to get the security group settings working using this information.</p> <hr> <h2 id="next-steps">Next Steps</h2> <p>I have not decided where to take this project yet, as I have several other projects I am currently working on.</p> <p>Other things that could be done though would be to set up monitoring software, automated failover to AWS, HTTPS/DNS management, code security testing workflows, and digging deeper into GitHub Actions to see what else I can accomplish with it that may be beneficial.</p> </article> </div> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Gabriel J. Chavez. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. <a href="https://www.flaticon.com/free-icons/programmer" title="programmer icons" rel="external nofollow noopener" target="_blank">Programmer icons created by Flat Icons - Flaticon</a> </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="/assets/js/bootstrap-toc.min.js?c82ff4de8b0955d6ff14f5b05eed7eb6"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-VT2LF4HTCL"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-VT2LF4HTCL");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>